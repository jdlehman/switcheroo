!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("window"),require("react")):"function"==typeof define&&define.amd?define(["window","react"],t):"object"==typeof exports?exports.switcheroo=t(require("window"),require("react")):e.switcheroo=t(e.window,e.React)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.Switcher=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;s=h=u=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var h=Object.getPrototypeOf(a);if(null===h)return void 0;e=h,t=o,n=i,r=!0}},u=n(6),h=r(u),c=n(2),l=r(c),p=n(5),f=r(p),d=function(e){function t(e){var n=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getLocation=function(){var e=decodeURI(f["default"].location[n.props.location].slice(1).split("?")[0]);return"/"!==e.charAt(0)?"/"+e:e},this.getSwitch=function(e){var t=n.recognizer.recognize(e);return t&&t[0]&&t[0].handler||null},this.initializeRecognizer=function(e){n.recognizer=new l["default"];var t=[].concat(e.children);t.forEach(function(t){n.recognizer.add([{path:""+e.basePath+t.props.path,handler:t.props.handler||t}])})},this.handleRouteChange=function(e){var t=n.getLocation(),r=n.getSwitch(t);"function"==typeof n.props.onChange&&n.props.onChange(!!r,t),n.setState({visibleSwitch:r})},this.defaultSwitch=e.defaultHandler?h["default"].createElement(e.defaultHandler,e.defaultHandlerProps):null,this.initializeRecognizer(e);var r=this.getLocation(),o=this.getSwitch(r);this.state={visibleSwitch:o}}return o(t,e),i(t,null,[{key:"displayName",value:"Switcher",enumerable:!0},{key:"propTypes",value:{children:h["default"].PropTypes.oneOfType([h["default"].PropTypes.arrayOf(h["default"].PropTypes.element),h["default"].PropTypes.element]).isRequired,pushState:h["default"].PropTypes.bool,hashChange:h["default"].PropTypes.bool,load:h["default"].PropTypes.bool,defaultHandler:h["default"].PropTypes.func,defaultHandlerProps:h["default"].PropTypes.object,onChange:h["default"].PropTypes.func,wrapper:h["default"].PropTypes.any,location:h["default"].PropTypes.string,baseURL:h["default"].PropTypes.string},enumerable:!0},{key:"defaultProps",value:{pushState:!1,hashChange:!0,load:!0,location:"hash",basePath:""},enumerable:!0}]),i(t,[{key:"componentDidMount",value:function(){this.props.load&&f["default"].addEventListener("load",this.handleRouteChange),this.props.pushState&&f["default"].addEventListener("popstate",this.handleRouteChange),this.props.hashChange&&f["default"].addEventListener("hashchange",this.handleRouteChange)}},{key:"componentWillReceiveProps",value:function(e){this.initializeRecognizer(e);var t=this.getLocation(),n=this.getSwitch(t);this.setState({visibleSwitch:n})}},{key:"componentWillUnmount",value:function(){this.props.load&&f["default"].removeEventListener("load",this.handleRouteChange),this.props.pushState&&f["default"].removeEventListener("popstate",this.handleRouteChange),this.props.hashChange&&f["default"].removeEventListener("hashchange",this.handleRouteChange)}},{key:"render",value:function(){return this.props.wrapper?h["default"].createElement(this.props.wrapper,this.props,this.state.visibleSwitch||this.defaultSwitch):this.state.visibleSwitch||this.defaultSwitch}}]),t}(u.Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){var r;(function(e){(function(){"use strict";function a(e,t,n){this.path=e,this.matcher=t,this.delegate=n}function o(e){this.routes={},this.children={},this.target=e}function i(e,t,n){return function(r,o){var s=e+r;return o?void o(i(s,t,n)):new a(e+r,t,n)}}function s(e,t,n){for(var r=0,a=0,o=e.length;o>a;a++)r+=e[a].path.length;t=t.substr(r);var i={path:t,handler:n};e.push(i)}function u(e,t,n,r){var a=t.routes;for(var o in a)if(a.hasOwnProperty(o)){var i=e.slice();s(i,o,a[o]),t.children[o]?u(i,t.children[o],n,r):n.call(r,i)}}function h(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){this.string=e}function l(e){this.name=e}function p(e){this.name=e}function f(){}function d(e,t,n){"/"===e.charAt(0)&&(e=e.substr(1));var r=e.split("/"),a=[];n.val="";for(var o=0,i=r.length;i>o;o++){var s,u=r[o];(s=u.match(/^:([^\/]+)$/))?(a.push(new l(s[1])),t.push(s[1]),n.val+="3"):(s=u.match(/^\*([^\/]+)$/))?(a.push(new p(s[1])),n.val+="2",t.push(s[1])):""===u?(a.push(new f),n.val+="1"):(a.push(new c(u)),n.val+="4")}return n.val=+n.val,a}function v(e){this.charSpec=e,this.nextStates=[]}function g(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}function y(e,t){for(var n=[],r=0,a=e.length;a>r;r++){var o=e[r];n=n.concat(o.match(t))}return n}function m(e){this.queryParams=e||{}}function w(e,t,n){for(var r=e.handlers,a=e.regex,o=t.match(a),i=1,s=new m(n),u=0,h=r.length;h>u;u++){for(var c=r[u],l=c.names,p={},f=0,d=l.length;d>f;f++)p[l[f]]=o[i++];s.push({handler:c.handler,params:p,isDynamic:!!l.length})}return s}function b(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function S(e){return e=e.replace(/\+/gm,"%20"),decodeURIComponent(e)}a.prototype={to:function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},o.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,n,r){var a=new o(t);this.children[e]=a;var s=i(e,a,r);r&&r.contextEntered&&r.contextEntered(t,s),n(s)}};var x=function(e,t){var n=new o;e(i("",n,this.delegate)),u([],n,function(e){t?t(this,e):this.add(e)},this)},C=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],P=new RegExp("(\\"+C.join("|\\")+")","g");c.prototype={eachChar:function(e){for(var t,n=this.string,r=0,a=n.length;a>r;r++)t=n.charAt(r),e({validChars:t})},regex:function(){return this.string.replace(P,"\\$1")},generate:function(){return this.string}},l.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},p.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},f.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},v.prototype={get:function(e){for(var t=this.nextStates,n=0,r=t.length;r>n;n++){var a=t[n],o=a.charSpec.validChars===e.validChars;if(o=o&&a.charSpec.invalidChars===e.invalidChars)return a}},put:function(e){var t;return(t=this.get(e))?t:(t=new v(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,n,r,a=this.nextStates,o=[],i=0,s=a.length;s>i;i++)t=a[i],n=t.charSpec,"undefined"!=typeof(r=n.validChars)?-1!==r.indexOf(e)&&o.push(t):"undefined"!=typeof(r=n.invalidChars)&&-1===r.indexOf(e)&&o.push(t);return o}};var R=Object.create||function(e){function t(){}return t.prototype=e,new t};m.prototype=R({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var O=function(){this.rootState=new v,this.names={}};O.prototype={add:function(e,t){for(var n,r=this.rootState,a="^",o={},i=[],s=[],u=!0,h=0,c=e.length;c>h;h++){var l=e[h],p=[],v=d(l.path,p,o);s=s.concat(v);for(var g=0,y=v.length;y>g;g++){var m=v[g];m instanceof f||(u=!1,r=r.put({validChars:"/"}),a+="/",r=b(r,m),a+=m.regex())}var w={handler:l.handler,names:p};i.push(w)}u&&(r=r.put({validChars:"/"}),a+="/"),r.handlers=i,r.regex=new RegExp(a+"$"),r.specificity=o,(n=t&&t.as)&&(this.names[n]={segments:s,handlers:i})},handlersFor:function(e){var t=this.names[e],n=[];if(!t)throw new Error("There is no route named "+e);for(var r=0,a=t.handlers.length;a>r;r++)n.push(t.handlers[r]);return n},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var n=this.names[e],r="";if(!n)throw new Error("There is no route named "+e);for(var a=n.segments,o=0,i=a.length;i>o;o++){var s=a[o];s instanceof f||(r+="/",r+=s.generate(t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams,n.handlers)),r},generateQueryString:function(e,t){var n=[],r=[];for(var a in e)e.hasOwnProperty(a)&&r.push(a);r.sort();for(var o=0,i=r.length;i>o;o++){a=r[o];var s=e[a];if(null!=s){var u=encodeURIComponent(a);if(h(s))for(var c=0,l=s.length;l>c;c++){var p=a+"[]="+encodeURIComponent(s[c]);n.push(p)}else u+="="+encodeURIComponent(s),n.push(u)}}return 0===n.length?"":"?"+n.join("&")},parseQueryString:function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var a,o=t[r].split("="),i=S(o[0]),s=i.length,u=!1;1===o.length?a="true":(s>2&&"[]"===i.slice(s-2)&&(u=!0,i=i.slice(0,s-2),n[i]||(n[i]=[])),a=o[1]?S(o[1]):""),u?n[i].push(a):n[i]=a}return n},recognize:function(e){var t,n,r,a,o=[this.rootState],i={},s=!1;if(a=e.indexOf("?"),-1!==a){var u=e.substr(a+1,e.length);e=e.substr(0,a),i=this.parseQueryString(u)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),s=!0),n=0,r=e.length;r>n&&(o=y(o,e.charAt(n)),o.length);n++);var h=[];for(n=0,r=o.length;r>n;n++)o[n].handlers&&h.push(o[n]);o=g(h);var c=h[0];return c&&c.handlers?(s&&"(.+)$"===c.regex.source.slice(-5)&&(e+="/"),w(c,e,i)):void 0}},O.prototype.map=x,O.VERSION="0.1.9";var E=O;n(3).amd?(r=function(){return E}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))):"undefined"!=typeof e&&e.exports?e.exports=E:"undefined"!=typeof this&&(this.RouteRecognizer=E)}).call(this)}).call(t,n(4)(e))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,n){t.exports=e},function(e,n){e.exports=t}])});